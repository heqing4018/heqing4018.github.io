<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>云安-住客监控面板</title>
    <link rel="stylesheet" type="text/css" href="plugins/bootstrap-3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="plugins/select2/select2.min.css">
    <link rel="stylesheet" type="text/css" href="css/reset.css">
    <link rel="stylesheet" type="text/css" href="css/public.css">
    <link rel="stylesheet" type="text/css" href="css/my-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="css/custom.css">
    <link rel="stylesheet" type="text/css" href="css/controlPanel.css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="plugins/select2/select2.min.js"></script>
    <script type="text/javascript" src="plugins/echarts.min.js"></script>
    <script type="text/javascript" src="plugins/bootstrap-3.3.6/js/bootstrap.min.js"></script>  
</head>
<body>
    <section class="outer">
        <div class="pg_top">云安-住客监控面板</div>
        <section class="sec1">
            <section class="sec3">
                <div class="btndv">
                    <a class="hmbtn">首页</a>
                </div>
                <div class="cornerdv dv1">
                    <div class="cntitle">
                        <p class="titlep">异常旅店</p>
                    </div>
                    <div class="cncont">
                        <dl class="yclgdl clear">
                            <dd><div class="yclgico"></div></dd>
                            <dt>
                                <div class="clear">长期未报
                                    <p class="rivalp"><span class="valspan" title="18">18</span>家</p>
                                </div>
                                <div class="clear">抓拍异常
                                    <p class="rivalp"><span class="valspan" title="12">12</span>家</p>
                                </div>
                            </dt>
                        </dl>
                    </div>
                    <span class="corner cnTop"></span>
                    <span class="corner cnRt"></span>
                    <span class="corner cnBtm"></span>
                    <span class="corner cnLft"></span>
                </div>
                <div class="cornerdv dv2 dcldv">
                    <div class="cntitle">
                        <p class="titlep">待处理</p>
                    </div>
                    <div class="cncont">
                        <div class="dclitem clear">
                            <div class="dcllft">
                                <p>待认领旅店</p>
                                <p class="progressBar"></p>
                            </div>
                            <div class="dclrt">
                                <span class="valspan" title="120">120</span>家
                            </div>
                        </div>
                        <div class="dclitem clear">
                            <div class="dcllft">
                                <p>待审核旅店</p>
                                <p class="progressBar"></p>
                            </div>
                            <div class="dclrt">
                                <span class="valspan" title="80">80</span>家
                            </div>
                        </div>
                        <div class="dclitem clear">
                            <div class="dcllft">
                                <p>待认领旅店</p>
                                <p class="progressBar"></p>
                            </div>
                            <div class="dclrt">
                                <span class="valspan" title="90">90</span>位
                            </div>
                        </div>
                    </div>
                    <span class="corner cnTop"></span>
                    <span class="corner cnRt"></span>
                    <span class="corner cnBtm"></span>
                    <span class="corner cnLft"></span>
                </div>
            </section>
            <section class="sec4">
                <div class="cornerdv dv3">
                    <div class="mapTitle clear">
                        <div class="mapLft clear">
                            <dl class="clear">
                                <dt>
                                    <div class="mapico jrrzico"></div>
                                </dt>
                                <dd>
                                    <p>今日入住</p>
                                    <div class="valdv">
                                        <span class="dayspan">1</span>
                                        <span class="dayspan">7</span>
                                        <span class="dayspan">2</span>
                                        <span class="dayspan">7</span>
                                        <span>人</span>
                                    </div>
                                </dd>
                            </dl>
                            <dl class="clear">
                                <dt>
                                    <div class="mapico zrzico"></div>
                                </dt>
                                <dd>
                                    <p>总入住</p>
                                    <div class="valdv">
                                        <span class="dayspan">1</span>
                                        <span class="dayspan">7</span>
                                        <span class="dayspan">2</span>
                                        <span class="dayspan">7</span>
                                        <span>人</span>
                                    </div>
                                </dd>
                            </dl>
                        </div>
                        <div class="mapRt">
                                <select class="pnlSel">
                                    <option value="">山西省</option>
                                    <option value="">河北省</option>
                                    <option value="">重庆市</option>
                                </select>
                                <select class="pnlSel">
                                    <option value="">长治县</option>
                                </select>
                                <select class="pnlSel">
                                    <option value="">八义镇派出所</option>
                                </select>
                            </div>
                    </div>
                    <div class="mapcont">
                        <div id="mapChart" ></div>
                    </div>
                    <span class="corner cnTop"></span>
                    <span class="corner cnRt"></span>
                    <span class="corner cnBtm"></span>
                    <span class="corner cnLft"></span>
                </div>
            </section>
            <section class="sec5">
                <div class="btndv">
                    <a class="tmbtn">2018-12-7 13:58:58</a>
                </div>
                <div class="cornerdv dv1 zptjdv">
                    <div class="cntitle">
                        <a class="pnsee"></a>
                        <p class="titlep">抓拍统计</p>
                    </div>
                    <div class="cncont clear">
                        <div class="jrzpdv">
                            <p class="zptjp">今日抓拍</p>
                            <p class="rivalp"><span class="valspan" title="2175">2175</span>次</p>
                        </div>
                        <div class="zptlzzpdv">
                            <p class="zptjp">总抓拍</p>
                            <p class="rivalp"><span class="valspan" title="3502">3502</span>次</p>
                        </div>
                    </div>
                    <span class="corner cnTop"></span>
                    <span class="corner cnRt"></span>
                    <span class="corner cnBtm"></span>
                    <span class="corner cnLft"></span>
                </div>
                <div class="cornerdv dv2 ldtjdv">
                    <div class="cntitle">
                        <a class="pnsee"></a>
                        <p class="titlep">旅店统计</p>
                    </div>
                    <div class="cncont clear">
                        <dl>
                            <dt>
                                <div class="lgtjcircle">
                                    <div class="circleinner">
                                        <span class="valspan" title="50">50</span>
                                    </div>
                                </div>
                            </dt>
                            <dd>旅店总数</dd>
                        </dl>
                        <dl>
                            <dt>
                                <div class="chartCircle">
                                    <!-- <span class="valspan" title="30">30</span> -->
                                    <div id="businessChart"></div>
                                </div>
                            </dt>
                            <dd>正常营业</dd>
                        </dl>
                        <dl>
                            <dt>
                                <div class="chartCircle">
                                    <div id="closeChart"></div>
                                    <!-- <span class="valspan" title="20">20</span> -->
                                </div>
                            </dt>
                            <dd>停业旅店</dd>
                        </dl>
                    </div>
                    <span class="corner cnTop"></span>
                    <span class="corner cnRt"></span>
                    <span class="corner cnBtm"></span>
                    <span class="corner cnLft"></span>
                </div>
            </section>
        </section>
        <section class="sec2">
            <div class="cornerdv dv4">
                <div class="cntitle">
                    <div class="menuedv">
                        <select class="pnlSel">
                            <option value="">山西省</option>
                            <option value="">河北省</option>
                            <option value="">重庆市</option>
                        </select>
                        <select class="pnlSel">
                            <option value="">长治县</option>
                        </select>
                        <select class="pnlSel">
                            <option value="">八义镇派出所</option>
                        </select>
                    </div>
                    <p class="titlep">入住趋势</p>
                </div>
                <div class="cncont">
                    <div id="rzqsChart"></div>
                </div>
                <span class="corner cnTop"></span>
                <span class="corner cnRt"></span>
                <span class="corner cnBtm"></span>
                <span class="corner cnLft"></span>
            </div>
        </section>
    </section>
    <script>


        // 首页
        $('.hmbtn').on('click', function(){
            $(location).attr('href', 'home.html');
        });
        
        $(function(){

            //select2初始化
            $(".pnlSel").select2({
                //隐藏搜索框
                minimumResultsForSearch: Infinity,
                width: 120
            });

            
            var OmapChart = echarts.init(document.getElementById('mapChart')),//入住人数
                OrzqsChart = echarts.init(document.getElementById('rzqsChart')),// 入住趋势
                ObusinessChart = echarts.init(document.getElementById('businessChart')),// 正常营业旅店统计
                OcloseChart = echarts.init(document.getElementById('closeChart'));// 停止营业旅店统计

            
            //入住人数设置
            $.get('js/HK.json', function (geoJson) {

                echarts.registerMap('HK', geoJson);

                OmapChart.setOption(option = {
                    tooltip: {
                        trigger: 'item',
                        formatter: '{b}<br/>{c} (人)'
                    },
                    visualMap: {
                        min: 1,
                        max: 500,
                        realtime: false,
                        textStyle: {
                            color: '#c0c0cc'
                        },
                        itemWidth: 10,
                        inRange: {
                            color: ['#0944A2','#4D72EB']
                        }
                    },
                    series: [
                        {
                            // 14BAAC
                            name: '香港18区人口密度',
                            type: 'map',
                            mapType: 'HK', // 自定义扩展图表类型
                            itemStyle:{
                                normal:{
                                    label:{
                                        show:true,
                                        formatter: '{c}',
                                        backgroundColor: '#08D4C6',
                                        color: '#000',
                                        borderRadius: 5,
                                        padding:[1,2]
                                    },
                                    // borderColor: '#7EFAF7',
                                    borderColor: '#fff',
                                    borderWidth: 1,
                                },
                                emphasis:{
                                    label:{
                                        show:true
                                    },
                                    areaColor: '#08D4C6',
                                }
                            },
                            data:[
                                {name: '中西区', value: 20},
                                {name: '湾仔', value: 1},
                                {name: '东区', value: 31},
                                {name: '南区', value: 69},
                                {name: '油尖旺', value: 44},
                                {name: '深水埗', value: 40},
                                {name: '九龙城', value: 376},
                                {name: '黄大仙', value: 451},
                                {name: '观塘', value: 55},
                                {name: '葵青', value: 219},
                                {name: '荃湾', value: 491},
                                {name: '屯门', value: 58},
                                {name: '元朗', value: 417},
                                {name: '北区', value: 22},
                                {name: '大埔', value: 21},
                                {name: '沙田', value: 91},
                                {name: '西贡', value: 336},
                                {name: '离岛', value: 80}
                            ],
                            // 自定义名称映射
                            nameMap: {
                                'Central and Western': '中西区',
                                'Eastern': '东区',
                                'Islands': '离岛',
                                'Kowloon City': '九龙城',
                                'Kwai Tsing': '葵青',
                                'Kwun Tong': '观塘',
                                'North': '北区',
                                'Sai Kung': '西贡',
                                'Sha Tin': '沙田',
                                'Sham Shui Po': '深水埗',
                                'Southern': '南区',
                                'Tai Po': '大埔',
                                'Tsuen Wan': '荃湾',
                                'Tuen Mun': '屯门',
                                'Wan Chai': '湾仔',
                                'Wong Tai Sin': '黄大仙',
                                'Yau Tsim Mong': '油尖旺',
                                'Yuen Long': '元朗'
                            }
                        }
                    ]
                });
            });

            //入住趋势，加载数据-----------------------------------
            // X轴相关数据
            var Xdays = [   '2018/11/01','2018/11/02','2018/11/03','2018/11/04'
                            ,'2018/11/05','2018/11/06','2018/11/07','2018/11/08'
                            ,'2018/11/09','2018/11/10','2018/11/11','2018/11/12'
                            ,'2018/11/13','2018/11/14','2018/11/15'];
            //Y轴数据
            var jbdata = [100,150,140,160,170,190,230,300,280,150,140,130,190,140,230];

			OrzqsChart.setOption({
                backgroundColor: 'transparent',
                color: ['#129E9E'],
                tooltip: {
                    trigger: 'axis'
                },
                grid: {
                    left: '20px', //绘画距离容器左边距离
                    right:'20px',
                    bottom: '20px', 
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: Xdays,
                    axisLine:{
                        show:   false   //不显示坐标轴轴线
                    },
                    axisTick:{
                        show:   false   //不显示坐标轴刻度线
                    },
                    axisLabel:{
                        color: '#a8a8b2'   //刻度值的颜色
                    }
                },
                yAxis: {
                    type: 'value',
                    splitNumber: 4,
                    max: 400,
                    nameTextStyle: {
                        color:'#333'
                    },
                    splitLine: {
                        lineStyle: {
                            color: '#062A70' //值对应的横线的颜色
                        }
                    },
                    axisLine: {
                        lineStyle: {
                            color: '#062A70' //坐标轴轴线颜色
                        }
                    },
                    axisTick:{
                        show: false     //是否显示坐标轴刻度
                    },
                    axisLabel:{
                        color: '#a8a8b2'   //刻度值的颜色
                    }
                },
                series: [
                    {
                        type: 'line',
                        symbol: 'circle',
                        symbolSize: 7,
                        data: jbdata
                    }
                ]

            }); 

            var hotelTotal = 50, businessNum = 20, stopNum = 30;

            // 正常营业旅店统计,加载数据---------------------------------
            ObusinessChart.setOption({
				series: [
					{
						type:'pie',
						radius: ['78%', '100%'],
						avoidLabelOverlap: false,
                        hoverAnimation: false,
						labelLine: {
							normal: {
							    show: false
							}
						},
						data:[
							{
                                value: businessNum,  //正常营业的个数
                                name:'正常营业',
                                label: {
                                    normal: {
                                        show: true,
                                        formatter: '{c}',
                                        position: 'center',
                                        color: '#fff',
                                        fontSize: 24,
                                        fontWeight: 700
                                    },
                                },
                                itemStyle: {
                                    normal: {
                                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                            offset: 0,
                                            color: '#00D7D7'
                                        }, {
                                            offset: 1,
                                            color: '#00A1EA'
                                        }]),
                                    }
                                },
                            },
                            {
                                value: stopNum,  //停止营业的个数
                                name:'停止营业',
                                itemStyle: {
                                    normal: {
                                        color: '#243053'
                                    }
                                },
                            }
						]
					}
				]
            });

            // 停止营业旅店统计,加载数据---------------------------------
            OcloseChart.setOption({
				series: [
					{
						type:'pie',
						radius: ['78%', '100%'],
						avoidLabelOverlap: false,
                        hoverAnimation: false,
						labelLine: {
							normal: {
							    show: false
							}
						},
						data:[
							{
                                value: stopNum,  //停止营业的个数
                                name:'停止营业',
                                label: {
                                    normal: {
                                        show: true,
                                        formatter: '{c}',
                                        position: 'center',
                                        color: '#fff',
                                        fontSize: 24,
                                        fontWeight: 700
                                    },
                                },
                                itemStyle: {
                                    normal: {
                                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                            offset: 0,
                                            color: '#927BFF'
                                        }, {
                                            offset: 1,
                                            color: '#8396FF'
                                        }]),
                                    }
                                },
                            },
                            {
                                value: businessNum,  //正常营业的个数
                                name:'正常营业',
                                itemStyle: {
                                    normal: {
                                        color: '#243053'
                                    }
                                },
                            }
						]
					}
				]
            });

            // 图标自适应----------------------------
            window.onresize=function(){
                OrzqsChart.resize();
                OmapChart.resize();
            }

        });

        

       
        
    </script>
</body>
</html> 